{% extends 'base.html' %}
{% load static %}
{% block content %}

  <section id="register" class="bg-light py-5">

    <div class="container">
      <div class="row">
        <div class="col-md-6 mx-auto">
          <div class="card">
            <div class="card-header " style="background-color : #2a2a2a; color : #ffffff">
              <h4>
                <i class="fas fa-user-plus"></i> Register</h4>
            </div>
            <div class="card-body">
<!--                Alerts-->
                {% include 'partials/_alerts.html' %}
                <form action="{% url 'register' %}" method="POST" id = "form">
                    {% csrf_token %}
                  <div class="form-group">
                  <label for="first_name">First Name</label>
                  <input type="text" name="first_name" id = "first_name"class="form-control" required>
                </div>
                    <div class="form-group">
                  <label for="middle_name">Middle Name</label>
                  <input type="text" name="middle_name" id = "middle_name" class="form-control" required>
                </div>

                <div class="form-group">
                  <label for="last_name">Last Name</label>
                  <input type="text" name="last_name" id = "last_name" class="form-control" required>
                </div>
                <div class="form-group">
                  <label for="username">Username</label>
                  <input type="text" name="username" id="username" class="form-control" required>
                </div>
                <div class="form-group">
                  <label for="email">Email</label>
                  <input type="email" name="email" id = "email" class="form-control" required>
                </div>
                <div class="form-group">
                  <label for="password">Password</label>
                  <input type="password" name="password" id ="password" class="form-control" required>
                </div>
                <div class="form-group">
                  <label for="password2">Confirm Password</label>
                  <input type="password" name="password2" id = "password2" class="form-control" required>
                </div>
                <input type="submit" value="Register" class="btn  btn-block"style="margin-top:10px; background-color : #2a2a2a; color : #ffffff"  onclick="return Validate()" />
              </form>


            </div>
          </div>
        </div>

      </div>
    </div>
  </section>


<script>
    function Validate() {
        var fname = document.forms["form"]["first_name"];
        var mname = document.forms["form"]["middle_name"];
        var lname = document.forms["form"]["last_name"];
        var userName = document.forms["form"]["username"];
        var email = document.forms["form"]["email"];
        var password = document.forms["form"]["pwd"];
        var confPassword = document.forms["form"]["pwd2"];
        //const re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;

        //password must start with "^"
        //password must contain 1 lowercase, uppercase, numeric, and special character
        //password must be at least 5 characters long

        //var strongRegex = new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{5,})");


        if (fname.value == "") {
            window.alert("Please enter your name.");
            fname.focus();
            return false;
        }

        if (mname.value == "") {
            window.alert("Please enter your middle name.");
            mname.focus();
            return false;
        }

        if (lname.value == "") {
            window.alert("Please enter your last name.");
            lname.focus();
            return false;
        }

        if (username.value == "") {
            window.alert("Please enter your name.");
            username.focus();
            return false;
        }



        if (!re.test(email.value)) {
            window.alert(
              "Please enter a valid e-mail address.");
            email.focus();
            return false;
        }

        if (password.value == "") {
            window.alert("Please enter a password.");
            username.focus();
            return false;
        }


        if (password.value != confPassword.value) {
            window.alert("Passwords do not match.");
            pwd2.focus();
            return false;
        }

        return true;
    }


</script>


{% endblock %}


